/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package one.piece.fetch;
import java.awt.image.BufferedImage;
import java.io.File;
import java.io.IOException;
import java.net.URL;
import javax.imageio.ImageIO;
/**
 *
 * @author Raghav
 */
public class OnePieceFetch {
    /**
     * @param args the command line arguments
     */
    static int chapter=39;
    public static void main(String[] args) {
        // TODO code application logic here
        fetch();
    }
    public static void fetch(){
        BufferedImage image = null;

        URL url;
        try{
            for(int i=1;i<=821;i++){
                if(chapter<10){
                    if(i<10){
            url = new URL("http://d173.diamond.fastwebserver.de/series/OnePiece/000"+chapter+"-00"+i+".png");
                    }
                    else{
                         url = new URL("http://d173.diamond.fastwebserver.de/series/OnePiece/000"+chapter+"-0"+i+".png");
                    }
                    image = ImageIO.read(url);
                }
                if(chapter>=10&&chapter<100){
                    if(i<10){
            url = new URL("http://d173.diamond.fastwebserver.de/series/OnePiece/00"+chapter+"-00"+i+".png");
                    }
                    else{
                        url = new URL("http://d173.diamond.fastwebserver.de/series/OnePiece/00"+chapter+"-0"+i+".png");
                    }
                    image = ImageIO.read(url);
                }
                if(chapter>=100){
                    if(i<10){
            url = new URL("http://d173.diamond.fastwebserver.de/series/OnePiece/0"+chapter+"-00"+i+".png");
                    }
                    else{
                        url = new URL("http://d173.diamond.fastwebserver.de/series/OnePiece/0"+chapter+"-0"+i+".png");
                    }
                    image = ImageIO.read(url);
                }
                
                    ImageIO.write(image, "png",new File("C://Users//Raghav//Pictures//One Piece//chapter-"+chapter+"-"+i+".jpg"));
                    

            }
        }
        catch(IOException e){
            if(chapter!=712){
                System.out.println("Chapters completed: "+chapter);
                chapter++;
                fetch();
            }
            else{
                System.out.println("done");
            }
        }
        
    } 
}
